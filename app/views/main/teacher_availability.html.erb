<%= render "shared_partials/navigation_menu", :active_item => "admin"%>

<section class="content-header no-margin">
    <h1>
        Profesores de Longbourn
        <small>Disponibilidad</small>
    </h1>
    <ol class="breadcrumb">
        <li>Administraci√≥n</li>
        <li>Disponibilidad de Profesores</li>
        <li class="active"><%=@teacher.name%></li>
    </ol>
</section>

<section class="content">
	<div class="row">
		<div class="col-xs-8">
			<div class="box box-info">
				<div class="box-body no-padding">
					<div id="calendar"></div>
				</div>
			</div>
		</div>
		<div class="col-xs-4">
			<div class="box box-warning">
				<div class="box-header">
					<h3 class="box-title">Disponibilidad: <%=@teacher.name%></h3>
				</div>
				<div class="box-body">
					<table class="table">
						<thead>
							<tr>
								<th>Dia</th>
								<th>Horario</th>
								<th>Hasta</th>
							</tr>
						</thead>
						<tbody>
							<%@disponibility.each do |disp|%>
							<tr>
								<td><%=week_day(disp.day_number)%></td>
								<td><%=l(disp.start_time, :format => "%H:%M")+" - "+l(disp.end_time, :format => "%H:%M")%></td>
								<td><%=disp.end_date ? l(disp.end_date, :format => "%d / %B / %Y") : "-"%></td>
							</tr>
							<%end%>
						</tbody>
					</table>
				</div>
				<div class="box-footer">
				</div>
			</div>
		</div>
	</div>
</section>

<script type="text/javascript">
$(function() {
    /* initialize the calendar
     -----------------------------------------------------------------*/
    //Date for the calendar events
    $('#calendar').fullCalendar({
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
        },
        buttonText: {//This is to add icons to the visible buttons
            prev: "<span class='fa fa-caret-left'></span>",
            next: "<span class='fa fa-caret-right'></span>",
            today: 'today',
            month: 'month',
            week: 'week',
            day: 'day'
        },
        events: gon.events,
        editable: false,
        droppable: false
    });
});
</script>