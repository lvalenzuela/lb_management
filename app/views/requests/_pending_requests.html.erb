<table class="table table-striped table-bordered table-hover" id="pending-requests-table">
    <thead>
        <tr>
            <th style="text-align: center;"> ID</th>
            <th>Tema</th>
            <th>Categoría</th>
            <th>Remitente</th>
            <th style="text-align: center;">Estado</th>
            <th style="text-align: center;">Fecha Límite</th>
            <th style="text-align: center;">Ver Solicitud</th>
        </tr>
    </thead>
    <tbody>
        <%if @requests.nil? || @requests.empty?%>
            <tr class="warning">
                <td colspan="7">No hay solicitudes pendientes asignadas al usuario</td>
            </tr>
        <%else%>
            <%@requests.each do |request|%>
                <tr>
                    <td style="text-align: center;"><%=request.id%></td>
                    <td><%=link_to truncate(request.subject), {:controller => "request_notes", :action => "show", :params => {:id => request.id}}%></td>
                    <td><%=get_tagname(request.tagid)%></td>
                    <td><%=get_username(request.userid)%></td>
                    <td style="text-align: center;"><%=request_status_desc(request.statusid)%></td>
                    <td style="text-align: center;"><%=show_date(request.duedate)%></td>
                    <%if has_unseen_messages(request.last_msg_datetime,request.id,current_user.id)%>
                        <td style="text-align: center;"><%=link_to "<i class='fa fa-exclamation rediconcolor fa-lg'></i>".html_safe, {:controller => "request_notes", :action => "show", :params => {:id => request.id}}, {:class => "btn btn-outline btn-info"}%></td>
                    <%else%>
                        <td style="text-align: center;"><%=link_to "<i class='fa fa-list fa-lg'></i>".html_safe, {:controller => "request_notes", :action => "show", :params => {:id => request.id}}, {:class => "btn btn-outline btn-info"}%></td>
                    <%end%>
                </tr>
            <%end%>
        <%end%>
    </tbody>
</table>