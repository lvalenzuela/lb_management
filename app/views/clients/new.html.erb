<!-- Barra de navegacion superior e izquierda -->
<%= render "shared_partials/navigation_menu", :active_item => "clients"%>

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Registro de Nuevo Cliente</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 col-lg-offset-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Formulario de Registro de Nuevo Cliente
                </div>
                <div class="panel-body">
                    <%if @contact.errors.any?%>
                        <div class="alert alert-warning">
                            <%=pluralize(@contact.errors.count,"error")%> no permitieron llevar a cabo la operacion 
                            <ul>
                                <%@contact.errors.full_messages.each do |msg|%>
                                    <li><%= msg %></li>
                                <%end%>
                            </ul>
                        </div>
                    <%end%>
                    <div class="col-lg-12">
                        <%=form_for(@contact, :url => {:controller => "clients", :action => "create"}) do |f|%>
                            <div class="form-group">
                                <label>Información General</label>
                                <%=f.text_field :firstname, :class => "form-control", :placeholder => "Nombre Contacto"%>
                                <br>
                                <%=f.text_field :lastname, :class => "form-control", :placeholder => "Apellido Contacto"%>
                                <br>
                                <%=f.text_field :rut, :class => "form-control", :placeholder => "Rut Contacto"%>
                                <br>
                                <%=f.text_field :institution, :class => "form-control", :placeholder => "Organizacion del Contacto"%>
                            </div>
                            <div class="form-group">
                                <label>Información de Contacto</label>
                                <%=f.text_field :email, :class => "form-control", :placeholder => "E-Mail Contacto"%>
                                <br>
                                <%=f.text_field :phone, :class => "form-control", :placeholder => "Telefono Contacto"%>
                                <br>
                                <%=f.text_field :address, :class => "form-control", :placeholder => "Dirección Contacto"%>
                                <br>
                            </div>
                            <div class="form-group">
                                <label>Tipo de Cliente</label>
                                <%=f.select :typeid, options_for_select(@types.collect{|t| [t.typename, t.id]}), {}, :class => "form-control"%>
                            </div>
                            <div class="form-group">
                                <label>Incorporar Cliente a la Cuenta</label>
                                <%=f.select :accountid, options_for_select(@accounts.collect{|a| [a.accountname, a.id]}), {}, :class => "form-control"%>
                            </div>
                            <div class="form-group">
                                <div class="pull-right">
                                    <%=f.submit :value => "Crear Contacto", :class => "btn btn-default"%>
                                </div>
                            </div>
                        <%end%>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>